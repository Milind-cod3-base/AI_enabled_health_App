
ScreenManager:
# window manager handles the below screens
    LoginWindow:
    CreateAccountWindow:
    MainWindow:
    SettingMain:
    SettingProfile:
    SettingNotif:
    Graph:
    DailyGraph:
    WeeklyGraph:
    MonthlyGraph:

    # new screens added
    SystemPermission:
    EditProfile:



<LoginWindow>:

    name: "login" # name of the window is login
    id: login

    username: username
    password: password

    MDCard:
        size_hint: None, None
        size: 400, 600
        pos_hint: {"center_x":0.5,"center_y":0.5}
        elevation: 15
        padding: 20
        spacing: 30
        orientation: "vertical"

        MDLabel:
            text:'LOGIN'
            font_style: 'Button'
            font_size: 35
            halign: "center"
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: 10
        

        MDTextFieldRound:
            id: username 
            hint_text: "username"
            icon_right: "account"
            size_hint_x: None
            width: 220
            font_size: 20
            pos_hint: {"center_x":0.5}
            color_active: [1,1,1,1]

        MDTextFieldRound:
            id: password
            hint_text: "password"
            icon_right: "eye-off"
            size_hint_x: None
            width: 220
            font_size: 20
            pos_hint: {"center_x":.5}
            color_active: [1,1,1,1]
            password: True

        MDRoundFlatButton:

            text: "Sign in"
            pos_hint: {"center_x":.5}
            font_size: 15
            
            on_release: 
                root.loginBtn()
                root.manager.transition.direction = "up"  # here root is login window
                
                



        MDRoundFlatButton:
            text: "Sign up"
            pos_hint: {"center_x":.5}
            font_size: 15
            on_release:
                root.createBtn()
                root.manager.transition.direction = "right"
                
                root.createBtn()

        Widget:
            size_hint_y: None
            height: 30


<CreateAccountWindow>:
    name: "create"

    username: username
    password: password
    confirm: confirm

    MDCard:
        orientation: 'vertical'
        size_hint: None,None
        size: 400,600
        pos_hint: {"center_x":.5,"center_y":.6}
        elevation: 15
        padding: 20
        spacing: 20

        MDLabel:
            text: "SIGN-UP"
            font_style: "Button"
            font_size: 30
            halign: "center"
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: 30

        MDTextFieldRound:
            id: username
            hint_text: "Username"
            size_hint_x: None
            icon_right: "account"
            width: 270
            font_size: 20
            pos_hint: {"center_x":.5}
            #normal_color: [35/255,49/255,48/255,1]
            color_active: [1,1,1,1]

        MDTextFieldRound: 
            id: password
            hint_text: "password"
            password: True
            size_hint_x: None
            icon_right: "eye-off"
            width: 270
            font_size: 20
            pos_hint: {"center_x":.5}
            #normal_color: [35/255,49/255,48/255,1]
            color_active: [1,1,1,1]

        MDTextFieldRound:
            id: confirm 
            hint_text: "confirm password"
            size_hint_x: None
            password: True
            icon_right: "eye-off"
            width: 270
            font_size: 20
            pos_hint: {"center_x":0.5}
           # normal_color: [35/255,49/255,48/255,1]
            color_active: [1,1,1,1]
        
        MDRoundFlatButton:
            text: "Submit"
            font_size: 15
            pos_hint: {"center_x":0.5}
            theme_text_color: "Custom"
            on_release:
                root.manager.transition.direction = "left"
                root.submit()

        MDRoundFlatButton:
            text: "Back"
            font_size: 15
            pos_hint: {"center_x":0.5}
            theme_text_color: "Custom"
            on_release:
                root.manager.transition.direction = "left" 
                root.login()   # moving to login window



<MainWindow>:
    name: "mainW"

    Scrollview:
        do_scroll_x: True
        do_scroll_y: True

        MDFloatLayout:
            md_bg_color: rgba(246,250,255,255)
            size_hint_y: None
            height: dp(800)
            width: dp(800)
            cols: 3
        
            
            MDIconButton:
                icon: "android"
                pos_hint:{"center_x":0.90,"center_y":0.97}
                user_font_size: "30sp"
                theme_text_color: "Custom"
                text_color: rgba(71,92,119,255)
                on_press:
                    root.manager.transition.direction = "left"
                    root.set()  # method for going to setting window

            MovementAnalysisCard:
                orientation: "vertical"
                padding: "10dp"
                spacing: "5dp"
                pos_hint: {"center_x":0.5,"center_y":0.78}
                md_bg_color: 1,1,1,1
                radius:(20,20,20,20)
                size_hint: 0.9,0.3
                elevation: 6
                MDLabel:
                    text: "Movement Analysis"
                    theme_text_color: "Secondary"
                    font_size: "20sp"
                    pos_hint: {"center_x": 0.56, "center_y":0.82}
                    color: rgba(71,92,119,255)
                MDSeparator:
                    pos_hint: {"center_x": 0.46, "center_y":0.74}
                    color: rgba(71,92,119,255)
                    pos: self.pos
                    size_hint:0.82,0.01
                MDLabel:
                    text: "sitting"
                    font_size: "20sp"
                    pos_hint: {"center_x": 0.56, "center_y":0.65}
                    color: rgba(71,92,119,255)
                GridLayout:
                    cols: 3
                    orientation: "tb-lr"
                    size_hint_y: None
                    pos_hint: {"center_x": 0.56, "center_y": 0.38}
                    height: self.minimum_height
                    padding: "4dp"
                    spacing: "5dp"
                    MDSwitch:
                        id: Checkin
                        # on_release: 
                        #     root.modelOn()

                    MDLabel:
                        text: "Check-in"
                        font_size: "12dp"

                    MDSwitch:
                        id: Checkout
                        # on_release:
                        #     root.modelOff()              
                    MDLabel:
                        text: "Check-out"
                        font_size: "12dp"
                    MDSwitch:
                        id: Notifications
                        # on_release:
                        #     root.pauseNotif()

                    MDLabel:
                        text: "Pause Notifications"
                        font_size: "12dp"
        MotivationTaskCard:
            orientation: "vertical"
            padding: "10dp"
            spacing: "5dp"
            pos_hint: {"center_x":0.5,"center_y":0.42}
            md_bg_color: 1,1,1,1
            radius:(20,20,20,20)
            size_hint: 0.9,0.40
            elevation: 6
            MDLabel:
                text: "Motivation Tasks"
                theme_text_color: "Secondary"
                font_size: "20sp"
                pos_hint: {"center_x": 0.56, "center_y":0.88}
                color: rgba(71,92,119,255)
            MDSeparator:
                pos_hint: {"center_x": 0.46, "center_y":0.81}
                color: rgba(71,92,119,255)
                pos: self.pos
                size_hint:0.82,0.01
            GridLayout:
                cols: 2
                orientation: "tb-lr"
                size_hint_y: None
                pos_hint: {"center_x": 0.49, "center_y": 0.74}
                height: self.minimum_height
                padding: "4dp"
                spacing: "5dp"
                MDCheckbox:
                    size_hint: None, None
                    size: "50dp", "50dp"
                MDLabel:
                    text: "Motivation Tasks"
                    font_size: "14dp"
            GridLayout:
                cols: 2
                orientation: "tb-lr"
                size_hint_y: None
                pos_hint: {"center_x": 0.49, "center_y": 0.60}
                height: self.minimum_height
                padding: "4dp"
                spacing: "5dp"
                MDCheckbox:
                    size_hint: None, None
                    size: "50dp", "50dp"
                MDLabel:
                    text: "Motivation Tasks"
                    font_size: "14dp"
            GridLayout:
                cols: 2
                orientation: "tb-lr"
                size_hint_y: None
                pos_hint: {"center_x": 0.49, "center_y": 0.46}
                height: self.minimum_height
                padding: "4dp"
                spacing: "5dp"
                MDCheckbox:
                    size_hint: None, None
                    size: "50dp", "50dp"
                MDLabel:
                    text: "Motivation Tasks"
                    font_size: "14dp"
            GridLayout:
                cols: 2
                orientation: "tb-lr"
                size_hint_y: None
                pos_hint: {"center_x": 0.49, "center_y": 0.32}
                height: self.minimum_height
                padding: "4dp"
                spacing: "5dp"
                MDCheckbox:
                    size_hint: None, None
                    size: "50dp", "50dp"
                MDLabel:
                    text: "Motivation Tasks"
                    font_size: "14dp"
            MDRoundFlatButton:
                text:"Remind Me"
                theme_text_color: "Custom"
                pos_hint: {"center_x": 0.5, "center_y": 0.14}
                on_release:
                    root.remindMe()

        MDRoundFlatButton:
            text:"Activity Graphs"
            theme_text_color: "Custom"
            pos_hint: {"center_x": 0.5, "center_y": 0.15}
            on_release:
                root.manager.transition.direction = "left"
                root.scale()  # method for going to graph window
        
<SettingMain>:
    name: "settingM"

    MDIconButton:
        icon: "arrow-left"
        pos_hint:{"center_x":0.1,"center_y":0.97}
        user_font_size: "30sp"
        theme_text_color: "Custom"
        text_color: rgba(71,92,119,255)
        on_press:
            root.manager.transition.direction = "right"
            root.back()  # going to profile setting window
    MDLabel:
        text: "Settings"
        theme_text_color: "Secondary"
        font_size: "20sp"
        pos_hint: {"center_x": 0.90, "center_y":0.97}
        color: rgba(71,92,119,255)
    MDRoundFlatButton:
        text:"Profile Settings"
        theme_text_color: "Custom"
        radius: 30,30,30,30
        pos_hint: {"center_x": 0.50, "center_y": 0.50}
        on_press:
            root.manager.transition.direction = "left"
            root.prof()  # going to profile setting window

    MDRoundFlatButton:
        text:"Notification Settings"
        theme_text_color: "Custom"
        radius: 30,30,30,30
        pos_hint: {"center_x": 0.50, "center_y": 0.40}
        on_press:
            root.manager.transition.direction = "left"
            root.notif()  # going to notification setting window

    
    MDRoundFlatButton:
        text:"Logout"
        theme_text_color: "Custom"
        radius: 30,30,30,30
        pos_hint: {"center_x": 0.50, "center_y": 0.25}
        on_press:
            root.manager.transition.direction = "right"
            root.login()  # going to profile setting window




<SettingNotif>:

    name: "settingN"

    MDIconButton:
        icon: "arrow-left"
        pos_hint:{"center_x":0.1,"center_y":0.97}
        user_font_size: "30sp"
        theme_text_color: "Custom"
        text_color: rgba(71,92,119,255)
        on_release:
            root.manager.transition.direction = "right"
            root.back()
    MDLabel:
        text: "Notification"
        theme_text_color: "Secondary"
        font_size: "20sp"
        pos_hint: {"center_x": 0.90, "center_y":0.97}
        color: rgba(71,92,119,255)
    UserCard:
        size_hint: None,None
        size: 280,470
        pos_hint: {"center_x":.5,"center_y":.45}
        elevation: 30
        padding: 10
        spacing: 5
        orientation: "vertical"
        radius: 20,20,20,20
        # Adding items to the card

<SettingProfile>:
    name: "settingP"

    n:n
    age:age
    gender:gender
    weight:weight
    heigh:heigh
    job:job
        


    MDIconButton:
        icon: "arrow-left"
        pos_hint:{"center_x":0.1,"center_y":0.97}
        user_font_size: "30sp"
        theme_text_color: "Custom"
        text_color: rgba(71,92,119,255)
        on_press:
            root.back()
            root.manager.transition.direction = "right"
            
    MDLabel:
        text: "Profile"
        theme_text_color: "Secondary"
        font_size: "20sp"
        pos_hint: {"center_x": 0.90, "center_y":0.97}
        color: rgba(71,92,119,255)
    UserCard:
        size_hint: None,None
        size:280,470
        pos_hint: {"center_x":.5,"center_y":.45}
        elevation: 15
        padding: 10
        spacing: 5
        orientation: "vertical"
        # Adding items to the card
        
        MDTextFieldRound:
            id: n
            hint_text: "Username"
            size_hint_x: None
            width: 220
            font_size: 20
            pos_hint: {"center_x":.5}
            color_active: [1,1,1,1]
        
        MDTextFieldRound:
            id: age
            hint_text: "Age"
            size_hint_x: None
            width: 220
            font_size: 20
            pos_hint: {"center_x":.5}
            color_active: [1,1,1,1]
        
        MDTextFieldRound:
            id: weight
            hint_text: "Weight [kg]"
            size_hint_x: None
            width: 220
            font_size: 20
            pos_hint: {"center_x":.5}
            color_active: [1,1,1,1]
        
        MDTextFieldRound:
            id: heigh
            hint_text: "Height [m]"
            size_hint_x: None
            width: 220
            font_size: 20
            pos_hint: {"center_x":.5}
            color_active: [1,1,1,1]

        MDTextFieldRound:
            id: job
            hint_text: "Job position"
            size_hint_x: None
            width: 220
            font_size: 20
            pos_hint: {"center_x":.5}
            color_active: [1,1,1,1]

        MDTextFieldRound:
            id: gender
            hint_text: "Gender"
            size_hint_x: None
            width: 220
            font_size: 20
            pos_hint: {"center_x":.5}
            color_active: [1,1,1,1]
            
        MDRoundFlatButton:
            text: "Save"
            font_size: 15
            pos_hint: {"center_x":.5}
            theme_text_color: "Custom"
            on_press:
                root.save()


<Graph>:

    name: "graph"

    MDIconButton:
        icon: "arrow-left"
        pos_hint:{"center_x":0.1,"center_y":0.97}
        user_font_size: "30sp"
        theme_text_color: "Custom"
        text_color: rgba(71,92,119,255)
        on_press:
            root.manager.transition.direction = "right"
            root.back()
    MDLabel:
        text: "Activity Graphs"
        theme_text_color: "Secondary"
        font_size: "20sp"
        pos_hint: {"center_x": 0.8, "center_y":0.97}
        color: rgba(71,92,119,255)
    ProfileCard:
        orientation: "vertical"
        padding: "10dp"
        spacing: "5dp"
        pos_hint: {"center_x":0.5,"center_y":0.88}
        md_bg_color: 1,1,1,1
        radius:(20,20,20,20)
        size_hint: 0.9,0.10
        elevation: 6
        GridLayout:
            cols: 3
            orientation: "tb-lr"
            size_hint_y: None
            pos_hint: {"center_x": 0.50, "center_y": 0.50}
            height: self.minimum_height
            padding: "24dp"
            spacing: "24dp"
            MDRoundFlatButton:
                text:"Day"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'dailygraph'
            MDRoundFlatButton:
                text:"Week"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'weeklygraph'
            MDRoundFlatButton:
                text:"Month"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'monthlygraph'




<DailyGraph>:

    name: 'dailygraph'
    MDIconButton:
        icon: "arrow-left"
        pos_hint:{"center_x":0.1,"center_y":0.97}
        user_font_size: "30sp"
        theme_text_color: "Custom"
        text_color: rgba(71,92,119,255)
        on_press:
            root.manager.current = "settingM"
            root.manager.transition.direction = 'right'
    MDLabel:
        text: "Activity Graphs"
        theme_text_color: "Secondary"
        font_size: "20sp"
        pos_hint: {"center_x": 0.8, "center_y":0.97}
        color: rgba(71,92,119,255)
    ProfileCard:
        orientation: "vertical"
        padding: "10dp"
        spacing: "5dp"
        pos_hint: {"center_x":0.5,"center_y":0.88}
        md_bg_color: 1,1,1,1
        radius:(20,20,20,20)
        size_hint: 0.9,0.10
        elevation: 6
        GridLayout:
            cols: 3
            orientation: "tb-lr"
            size_hint_y: None
            pos_hint: {"center_x": 0.50, "center_y": 0.50}
            height: self.minimum_height
            padding: "24dp"
            spacing: "24dp"
            MDRoundFlatButton:
                text:"Day"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'dailygraph'
            MDRoundFlatButton:
                text:"Week"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'weeklygraph'
            MDRoundFlatButton:
                text:"Month"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'monthlygraph'
    ProfileCard:
        orientation: "vertical"
        padding: "10dp"
        spacing: "5dp"
        pos_hint: {"center_x":0.5,"center_y":0.45}
        md_bg_color: 1,1,1,1
        radius:(20,20,20,20)
        size_hint: 0.9,0.6
        elevation: 6
        MDLabel:
            text: "Day"
            theme_text_color: "Secondary"
            font_size: "20sp"
            pos_hint: {"center_x": 0.9, "center_y":0.9}
            color: rgba(71,92,119,255)

<WeeklyGraph>:
    name: 'weeklygraph'
    MDIconButton:
        icon: "arrow-left"
        pos_hint:{"center_x":0.1,"center_y":0.97}
        user_font_size: "30sp"
        theme_text_color: "Custom"
        text_color: rgba(71,92,119,255)
        on_press:
            root.manager.current = 'settingM'
            root.manager.transition.direction = 'right'
    MDLabel:
        text: "Activity Graphs"
        theme_text_color: "Secondary"
        font_size: "20sp"
        pos_hint: {"center_x": 0.8, "center_y":0.97}
        color: rgba(71,92,119,255)
    ProfileCard:
        orientation: "vertical"
        padding: "10dp"
        spacing: "5dp"
        pos_hint: {"center_x":0.5,"center_y":0.88}
        md_bg_color: 1,1,1,1
        radius:(20,20,20,20)
        size_hint: 0.9,0.10
        elevation: 6
        GridLayout:
            cols: 3
            orientation: "tb-lr"
            size_hint_y: None
            pos_hint: {"center_x": 0.50, "center_y": 0.50}
            height: self.minimum_height
            padding: "24dp"
            spacing: "24dp"
            MDRoundFlatButton:
                text:"Day"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'dailygraph'
            MDRoundFlatButton:
                text:"Week"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'weeklygraph'
            MDRoundFlatButton:
                text:"Month"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'monthlygraph'
    ProfileCard:
        orientation: "vertical"
        padding: "10dp"
        spacing: "5dp"
        pos_hint: {"center_x":0.5,"center_y":0.45}
        md_bg_color: 1,1,1,1
        radius:(20,20,20,20)
        size_hint: 0.9,0.6
        elevation: 6
        MDLabel:
            text: "Week"
            theme_text_color: "Secondary"
            font_size: "20sp"
            pos_hint: {"center_x": 0.9, "center_y":0.9}
            color: rgba(71,92,119,255)


<MonthlyGraph>:
    name: 'monthlygraph'
    
    MDIconButton:
        icon: "arrow-left"
        pos_hint:{"center_x":0.1,"center_y":0.97}
        user_font_size: "30sp"
        theme_text_color: "Custom"
        text_color: rgba(71,92,119,255)
        on_press:
            root.manager.current = "settingM"
            root.manager.transition.direction = 'right'
    MDLabel:
        text: "Activity Graphs"
        theme_text_color: "Secondary"
        font_size: "20sp"
        pos_hint: {"center_x": 0.8, "center_y":0.97}
        color: rgba(71,92,119,255)
    ProfileCard:
        orientation: "vertical"
        padding: "10dp"
        spacing: "5dp"
        pos_hint: {"center_x":0.5,"center_y":0.88}
        md_bg_color: 1,1,1,1
        radius:(20,20,20,20)
        size_hint: 0.9,0.10
        elevation: 6
        GridLayout:
            cols: 3
            orientation: "tb-lr"
            size_hint_y: None
            pos_hint: {"center_x": 0.50, "center_y": 0.50}
            height: self.minimum_height
            padding: "24dp"
            spacing: "24dp"
            MDRoundFlatButton:
                text:"Day"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'dailygraph'
            MDRoundFlatButton:
                text:"Week"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'weeklygraph'
            MDRoundFlatButton:
                text:"Month"
                theme_text_color: "Custom"
                radius: 30,30,30,30
                on_press:
                    root.manager.current = 'monthlygraph'
    ProfileCard:
        orientation: "vertical"
        padding: "10dp"
        spacing: "5dp"
        pos_hint: {"center_x":0.5,"center_y":0.45}
        md_bg_color: 1,1,1,1
        radius:(20,20,20,20)
        size_hint: 0.9,0.6
        elevation: 6
        MDLabel:
            text: "Week"
            theme_text_color: "Secondary"
            font_size: "20sp"
            pos_hint: {"center_x": 0.9, "center_y":0.9}
            color: rgba(71,92,119,255)

